EMERGENCY DEPLOYMENT ANALYSIS

You've run the commands twice but the deployment isn't working. This suggests one of these issues:

1. GITHUB SYNC ISSUE: Commands ran but GitHub didn't receive the push
2. VERCEL CONFIG ISSUE: Deployment succeeded but routing is still broken
3. CACHE ISSUE: Old deployment is cached and new one isn't active

EMERGENCY SOLUTION - Try this ultra-simple approach:

cd ~/Downloads/lush-properties-platform

# Check what's actually in the repository
ls -la
cat vercel.json 2>/dev/null || echo "No vercel.json found"

# Force create minimal working version
rm -f vercel.json
echo '{
  "functions": { "api/index.js": { "runtime": "@vercel/node" } },
  "rewrites": [{ "source": "/(.*)", "destination": "/api/index.js" }]
}' > vercel.json

# Create minimal Express that handles everything
mkdir -p api
echo 'const express = require("express");
const app = express();
app.get("*", (req, res) => {
  if (req.path === "/") {
    res.send(`<html><body style="background:#007144;color:white;text-align:center;padding:50px;font-family:Arial"><h1 style="color:#FFD700">Lush Properties Pty Ltd</h1><p>Property Investment Platform</p><a href="/builder" style="color:#FFD700">Builder Portal</a> | <a href="/client" style="color:#FFD700">Client Dashboard</a></body></html>`);
  } else if (req.path.startsWith("/api/")) {
    res.json({ status: "API working", endpoint: req.path });
  } else {
    res.send(`<html><body style="background:#007144;color:white;text-align:center;padding:50px;font-family:Arial"><h1 style="color:#FFD700">${req.path.slice(1)} Portal</h1><p>Route working!</p><a href="/" style="color:#FFD700">‚Üê Back</a></body></html>`);
  }
});
module.exports = app;' > api/index.js

# Force push with timestamp
git add . -A
git commit -m "EMERGENCY FIX $(date +%s)"
git push origin main --force

echo "Emergency deployment pushed. Wait 5 minutes then test."

ALTERNATIVE APPROACH:
If this still doesn't work, the issue might be:

1. Wrong GitHub repository linked to Vercel
2. Vercel project needs manual redeploy
3. Domain/DNS issue

Check these:
1. Open https://vercel.com/dashboard
2. Find your project "lush-properties-platform-v2"
3. Click "Redeploy" manually
4. Check if GitHub repository is correctly linked

The API working but homepage failing indicates routing configuration isn't taking effect.